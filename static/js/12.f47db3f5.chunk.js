webpackJsonp([12],{304:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n.n(o),c=n(346),l=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),p=function(e){function t(){var e,n,i,o;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.state={imageSrc:[]},i.b64ToBlob=function(e,t){t=t||"";for(var n=atob(e),r=[],a=new ArrayBuffer(n.length),i=new Uint8Array(a),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return r.push(i),new Blob(r,{type:t})},i.onchange=function(e){var t=e.target.files[0];if(t){if(!t.type.match("image.*"))return alert("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247"),!1;var n=URL||window.URL||window.webkitURL,r=n.createObjectURL(t);i.setState({imageSrc:i.state.imageSrc.concat([r])});var a=new FileReader;a.onload=function(e){var t=new Image;t.src=e.target.result,t.onload=function(){var e=i.compress(t),n=i.b64ToBlob(e.split(",")[1],"image/jpeg");(new FormData).append("file",n)},i.setState({imageSrc:i.state.imageSrc.concat([t.src])})},a.readAsDataURL(t)}},o=n,a(i,o)}return i(t,e),l(t,[{key:"compress",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d"),r=e.width,a=e.height;t.width=r,t.height=a,n.fillStyle="#fff",n.fillRect(0,0,t.width,t.height),n.drawImage(e,0,0,t.width,t.height);var i=t.toDataURL("image/jpeg",.4);return t=n=null,e=null,i}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.className||"upload"},s.a.createElement("div",{className:"btn btn-primary"},this.props.btnText,s.a.createElement("input",{type:"file",onChange:this.onchange})),s.a.createElement("div",{className:"previewer"},this.state.imageSrc.map(function(e,t){return s.a.createElement("img",{src:e,key:t,alt:""})})))}}]),t}(s.a.Component);t.default=p},346:function(e,t,n){var r=n(347);"string"===typeof r&&(r=[[e.i,r,""]]);var a={hmr:!1};a.transform=void 0;n(239)(r,a);r.locals&&(e.exports=r.locals)},347:function(e,t,n){t=e.exports=n(238)(!0),t.i(n(348),""),t.push([e.i,".upload{width:100%;position:relative}.upload .btn{border:1px solid #a8a8a9;padding:7px 15px;text-align:center}.upload input[type=file]{position:absolute;top:0;left:0;opacity:0;width:100%;height:100%}.previewer{width:100%;height:auto}.previewer img{width:25%;display:inline-block}","",{version:3,sources:["E:/workspace/my-app/src/components/Upload/index.css"],names:[],mappings:"AACA,QACE,WAAY,AACZ,iBAAmB,CAAE,AAEvB,aACE,yBAA0B,AAC1B,iBAAkB,AAClB,iBAAmB,CAAE,AAEvB,yBACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,UAAW,AACX,WAAY,AACZ,WAAa,CAAE,AAEjB,WACE,WAAY,AACZ,WAAa,CAAE,AAEjB,eACE,UAAW,AACX,oBAAsB,CAAE",file:"index.css",sourcesContent:["@import url(../variable.css);\n.upload {\n  width: 100%;\n  position: relative; }\n\n.upload .btn {\n  border: 1px solid #A8A8A9;\n  padding: 7px 15px;\n  text-align: center; }\n\n.upload input[type=file] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  width: 100%;\n  height: 100%; }\n\n.previewer {\n  width: 100%;\n  height: auto; }\n\n.previewer img {\n  width: 25%;\n  display: inline-block; }\n"],sourceRoot:""}])},348:function(e,t,n){t=e.exports=n(238)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"variable.css",sourceRoot:""}])}});
//# sourceMappingURL=12.f47db3f5.chunk.js.map